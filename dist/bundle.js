"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var fela=require("fela"),felaDom=require("fela-dom"),presetWeb=_interopDefault(require("fela-preset-web"));const isBrowser=require("is-browser"),defaultOpts={method:"f",fdef:e=>({}),ssr:!1,plugins:[]};class Renderer{get mixin(){return Object.freeze(this._mixin)}get style(){return felaDom.renderToMarkup(this.renderer)}constructor(e={}){const{method:r,fdef:t,ssr:s,plugins:n}=Object.assign({},defaultOpts,e);this.renderer=fela.createRenderer({plugins:[...presetWeb,...n]});const{renderer:o}=this;isBrowser&&(s?felaDom.rehydrate(o):felaDom.render(o)),this._mixin={methods:{[r](e,r={}){const t={function:e,object:()=>e,string:(()=>{const r=this.style&&this.style[e];return{function:r,object:()=>r}[typeof r]||(e=>e)})()}[typeof e];return o.renderRule(t,r)}},computed:{fdef(){return t(this)}}}}}exports.Renderer=Renderer;
